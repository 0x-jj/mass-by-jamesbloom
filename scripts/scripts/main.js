var randomNumberGenerator=new MersenneTwister((new Date).getTime()),randomNumberGeneratorSeeded=new MersenneTwister(hashString(`${tokenHash}`));function makeGradientPlane(e,a,t,n,i){const o=document.createElement("canvas");o.width=256,o.height=256;const r=o.getContext("2d");if("linear"==t)var s=r.createLinearGradient(0,0,0,o.height);else if("radial"==t)s=r.createRadialGradient(o.width/2,o.height/2,0,o.width/2,o.height/2,o.width/2);for(let e of n)s.addColorStop(e[0],e[1]);r.fillStyle=s,r.fillRect(0,0,o.width,o.height);const l=new THREE.CanvasTexture(o),d=new THREE.PlaneGeometry(e,a),c=new THREE.MeshBasicMaterial({map:l,fog:i});return new THREE.Mesh(d,c)}function makePerlinTexture(e,a,t,n,i,o,r,s,l="perlin3"){const d=document.createElement("canvas");d.setAttribute("id","canvas1"),d.width=e,d.height=a;const c=d.getContext("2d");if(r){var p=document.createElement("canvas");p.width=e,p.height=a;var m=p.getContext("2d")}noise.seed(Math.random());for(var u=0;u<d.width;u++)for(var g=0;g<d.height;g++){if("perlin3"==l)var E=noise.perlin3(u/t,g/n,u^g%150),f=256*Math.abs(E*o)+i;else if("simplex3"==l)E=noise.simplex3(u/t,g/n,u^g%150),f=256*Math.abs(E*o)+i;else if("simple"==l)f=255*Math.random()*o+i;let e=f,a=f,d=f;c.fillStyle="rgb("+e+","+a+","+d+")",c.fillRect(u,g,1,1),r&&(d=f/s,m.fillStyle="rgb("+d+","+d+","+d+")",m.fillRect(u,g,1,1))}const S=new THREE.CanvasTexture(d);if(S.wrapS=S.wrapT=THREE.RepeatWrapping,r){const e=new THREE.CanvasTexture(p);return e.wrapS=e.wrapT=THREE.RepeatWrapping,[S,e]}return S}function makeLight(e,a=!0){"point"==e.type?(e.light=new THREE.PointLight(e.color,e.power,e.size),a&&e.light.position.set(e.positionX,e.positionY,e.positionZ),enableShadows&&(e.light.castShadow=!0,e.light.shadow.mapSize.width=512,e.light.shadow.mapSize.height=512,e.light.shadow.camera.near=.5,e.light.shadow.camera.far=500,e.light.shadow.normalBias=.5)):"hemisphere"==e.type?e.light=new THREE.HemisphereLight(e.color1,e.color2,e.power):"ambient"==e.type?e.light=new THREE.AmbientLight(e.color):"directional"==e.type&&(e.light=new THREE.DirectionalLight(e.color,e.power),e.light.position.set(e.positionX,e.positionY,e.positionZ),e.light.rotation.set(e.rotationX,e.rotationY,e.rotationZ),enableShadows&&(e.light.castShadow=!0,e.light.shadow.mapSize.width=512,e.light.shadow.mapSize.height=512,e.light.shadow.camera.near=.5,e.light.shadow.camera.far=500,e.light.shadow.normalBias=.5))}function animateAxisNegativeSpace(e,a){null==e.userData&&(e.userData={},e.userData.negativeSpaceTargetX=rand(e.negativeSpaceAnimationX[0],e.negativeSpaceAnimationX[1],e.negativeSpaceAnimationX[2]),e.userData.negativeSpaceTargetY=rand(e.negativeSpaceAnimationY[0],e.negativeSpaceAnimationY[1],e.negativeSpaceAnimationY[2]),e.userData.negativeSpaceCurrentX=0,e.userData.negativeSpaceCurrentY=0);let t=0,n=0,i=e.negativeSpaceAnimationSpeedX*a,o=e.negativeSpaceAnimationSpeedY*a;if(e.userData.negativeSpaceCurrentX<e.userData.negativeSpaceTargetX?(t=i,e.userData.negativeSpaceCurrentX+=i):e.userData.negativeSpaceCurrentX>e.userData.negativeSpaceTargetX&&(t=-i,e.userData.negativeSpaceCurrentX-=i),e.userData.negativeSpaceCurrentY<e.userData.negativeSpaceTargetY?(n=o,e.userData.negativeSpaceCurrentY+=o):e.userData.negativeSpaceCurrentY>e.userData.negativeSpaceTargetY&&(n=-o,e.userData.negativeSpaceCurrentY-=o),(e.userData.negativeSpaceTargetX>=0&&e.userData.negativeSpaceCurrentX>e.userData.negativeSpaceTargetX||e.userData.negativeSpaceTargetX<=0&&e.userData.negativeSpaceCurrentX<e.userData.negativeSpaceTargetX)&&(e.userData.negativeSpaceTargetX=rand(e.negativeSpaceAnimationX[0],e.negativeSpaceAnimationX[1],e.negativeSpaceAnimationX[2])),(e.userData.negativeSpaceTargetY>=0&&e.userData.negativeSpaceCurrentY>e.userData.negativeSpaceTargetY||e.userData.negativeSpaceTargetY<=0&&e.userData.negativeSpaceCurrentY<e.userData.negativeSpaceTargetY)&&(e.userData.negativeSpaceTargetY=rand(e.negativeSpaceAnimationY[0],e.negativeSpaceAnimationX[1],e.negativeSpaceAnimationY[2])),0!=t||0!=n)for(let a in e.clipPlanes)e.clipPlanes[a].translate(new THREE.Vector3(t,n,0))}function makeCamera(){if("perspective"==cameraType)(e=new THREE.PerspectiveCamera(fieldOfView,cameraAspect,cameraNear,cameraFar)).aspect=rendererWidth/rendererHeight;else var e=new THREE.OrthographicCamera(rendererWidth/-orthographicCameraScale,rendererWidth/orthographicCameraScale,rendererHeight/orthographicCameraScale,rendererHeight/-orthographicCameraScale,cameraNear,cameraFar);return e.position.x=cameraX,e.position.y=cameraY,e.position.z=cameraZ,e.updateProjectionMatrix(),e.userData.animationQueue=[],e}function makeScene(){const e=new THREE.Scene;return e.fog=new THREE.Fog(fogColor,fogNear,fogFar),e.fog.userData={animationQueue:[]},e.fog.enabled=!0,enableFog||(e.fog.near=200,e.fog.far=200,e.fog.enabled=!1),e.background=new THREE.Color(worldGradientColors[worldGradientColors.length-1][1]),e}function makeRenderer(){const e=new THREE.WebGLRenderer({antialias:rendererAntialias,premultipliedAlpha:!0});return e.setSize(rendererWidth,rendererHeight,!1),e.setPixelRatio(window.devicePixelRatio),e.toneMapping=THREE[rendererToneMapping],e.localClippingEnabled=!0,enableShadows&&(e.shadowMap.enabled=!0,e.shadowMap.type=THREE.PCFShadowMap),e.autoClear=!1,document.body.appendChild(e.domElement),e}function loadOBJ(e,a,t,n,i){const o=new THREE.OBJLoader;return object=o.parse(atob(e)),object.traverse((function(e){e.material=a})),object.scale.set(t[0],t[1],t[2]),object.position.set(n[0],n[1],n[2]),object.rotation.set(THREE.MathUtils.degToRad(i[0]),THREE.MathUtils.degToRad(i[1]),THREE.MathUtils.degToRad(i[2])),object}function addPivotToAxis(e,a,t){let n=new THREE.Object3D;n.userData.name=t;var i=rand(e.axisX[0],e.axisX[1],e.axisX[2]),o=rand(e.axisY[0],e.axisY[1],e.axisY[2]),r=rand(e.axisZ[0],e.axisZ[1],e.axisZ[2]);n.userData.rotationSpeed=rand(e.coneRotationSpeed[0],e.coneRotationSpeed[1],e.coneRotationSpeed[2]),n.userData.originalRotationSpeed=n.userData.rotationSpeed,n.rotation.z=THREE.MathUtils.degToRad(rand(e.axisAngle[0],e.axisAngle[1],e.axisAngle[2])),n.userData.originalPosition=[i,o,r],n.position.set(i,o,r),n.add(a),e.pivots.push(n),e.mainPivot.add(n)}function addConeToAxis(e,a,t,n){let i=rand(t.radius[0],t.radius[1],t.radius[2]),o=rand(t.height[0],t.height[1],t.height[2]),r=rand(t.scale[0],t.scale[1],t.scale[2]),s=r+rand(t.scaleX[0],t.scaleX[1],t.scaleX[2]),l=r+rand(t.scaleY[0],t.scaleY[1],t.scaleY[2]),d=r+rand(t.scaleZ[0],t.scaleZ[1],t.scaleZ[2]),c=rand(t.positionX[0],t.positionX[1],t.positionX[2]),p=rand(t.positionY[0],t.positionY[1],t.positionY[2]),m=rand(t.positionZ[0],t.positionZ[1],t.positionZ[2]),u=rand(t.rotationX[0],t.rotationX[1],t.rotationX[2]),g=rand(t.rotationY[0],t.rotationY[1],t.rotationY[2]),E=(rand(t.rotationZ[0],t.rotationZ[1],t.rotationZ[2]),t.numberOfRadialSegments),f=t.numberOfHeightSegments,S=t.openEnded;e.ellipseMode&&(c*=Math.pow(20-Math.abs(p),e.ellipseModePowerOf)*e.ellipseModeMultiplier,m*=Math.pow(20-Math.abs(p),e.ellipseModePowerOf)*e.ellipseModeMultiplier),e.enableScaleEllipseMode&&(s*=Math.pow(e.scaleEllipseModeBaseX-Math.abs(p),e.scaleEllipseModePowerOfX)*e.scaleEllipseModeMultiplierX,l*=Math.pow(e.scaleEllipseModeBaseY-Math.abs(p),e.scaleEllipseModePowerOfY)*e.scaleEllipseModeMultiplierY,d*=Math.pow(e.scaleEllipseModeBaseZ-Math.abs(p),e.scaleEllipseModePowerOfZ)*e.scaleEllipseModeMultiplierZ);let h={};for(let e=0;e<100;e++){let e=t.types[randS(0,t.types.length-1,1)];if(randS(0,1,.1)>1-e.probability){h=e;break}}let v=materialTemplates[t.material].clone();t.wireframeProbability&&randS(0,1,.01)>1-t.wireframeProbability?(v.wireframe=!0,E=5,f=5,S=!0):v.wireframe=!1;let A=makeCone(v,i,o,E,f,S,[s,l,d],[c,p,m],[u,g,u],h);if(n){let e=Math.max(s,l,d),a=e/100*n;a=Math.max(a,1e-7),A.scale.set(0,0,0),A.userData.animationQueue=[makeAnimationForQueue("scale",0,e,e,a)]}e.enableNegativeSpace&&(A.material.clippingPlanes=e.clipPlanes,A.material.clipIntersection=!0),A.userData.name=a,addPivotToAxis(e,A,a)}function addConeToAxisFALLBACK(e,a,t){let n=rand(e.coneRadius[0],e.coneRadius[1],e.coneRadius[2]),i=rand(e.coneHeight[0],e.coneHeight[1],e.coneHeight[2]),o=rand(e.coneBaseScale[0],e.coneBaseScale[1],e.coneBaseScale[2]),r=o+rand(e.coneAddScaleX[0],e.coneAddScaleX[1],e.coneAddScaleX[2]),s=o+rand(e.coneAddScaleY[0],e.coneAddScaleY[1],e.coneAddScaleY[2]),l=o+rand(e.coneAddScaleZ[0],e.coneAddScaleZ[1],e.coneAddScaleZ[2]),d=rand(e.conePositionX[0],e.conePositionX[1],e.conePositionX[2]),c=rand(e.conePositionY[0],e.conePositionY[1],e.conePositionY[2]),p=rand(e.conePositionZ[0],e.conePositionZ[1],e.conePositionZ[2]),m=rand(e.coneRotationX[0],e.coneRotationX[1],e.coneRotationX[2]),u=rand(e.coneRotationY[0],e.coneRotationY[1],e.coneRotationY[2]),g=(rand(e.coneRotationZ[0],e.coneRotationZ[1],e.coneRotationZ[2]),e.coneNumberOfRadialSegments),E=e.coneNumberOfHeightSegments,f=e.coneOpenEnded;e.ellipseMode&&(d*=Math.pow(20-Math.abs(c),e.ellipseModePowerOf)*e.ellipseModeMultiplier,p*=Math.pow(20-Math.abs(c),e.ellipseModePowerOf)*e.ellipseModeMultiplier),e.enableScaleEllipseMode&&(r*=Math.pow(e.scaleEllipseModeBaseX-Math.abs(c),e.scaleEllipseModePowerOfX)*e.scaleEllipseModeMultiplierX,s*=Math.pow(e.scaleEllipseModeBaseY-Math.abs(c),e.scaleEllipseModePowerOfY)*e.scaleEllipseModeMultiplierY,l*=Math.pow(e.scaleEllipseModeBaseZ-Math.abs(c),e.scaleEllipseModePowerOfZ)*e.scaleEllipseModeMultiplierZ);let S={};for(let a=0;a<100;a++){let a=e.axisArrayConeTypes[rand(0,e.axisArrayConeTypes.length-1,1)];if(rand(0,1,.1)>1-a.probability){S=a;break}}var h=e.coneMaterial;e.wireframeProbability>0&&rand(0,1,.01)>1-e.wireframeProbability&&((h=e.coneMaterial.clone()).wireframe=!0,g=5,E=5,f=!0);let v=makeCone(h,n,i,g,E,f,[r,s,l],[d,c,p],[m,u,m],S);if(t){let e=Math.max(r,s,l),a=e/100*t;a=Math.max(a,1e-7),v.scale.set(0,0,0),v.userData.animationQueue=[makeAnimationForQueue("scale",0,e,e,a)]}v.userData.name=a,addPivotToAxis(e,v,a)}function animateWorldPlane(){SCENE.worldPlane.userData.animationQueue||((SCENE.worldPlane.scale.x>1+SCENE.worldPlane.userData.scaleAmount&&SCENE.worldPlane.userData.scaleFactor>0||SCENE.worldPlane.scale.x<1&&SCENE.worldPlane.userData.scaleFactor<0)&&(SCENE.worldPlane.userData.scaleFactor*=-1),SCENE.worldPlane.scale.set(SCENE.worldPlane.scale.x+SCENE.worldPlane.userData.scaleFactor,SCENE.worldPlane.scale.y+SCENE.worldPlane.userData.scaleFactor,1))}function makeWorldPlane(){worldPlane=makeGradientPlane(3*rendererWidth,3*rendererWidth,worldGradientType,worldGradientColors,!1),worldPlane.userData.name="worldPlane",worldPlane.position.z=-rendererWidth,worldPlane.z=-100,worldPlane.userData.scaleFactor=rand(worldGradientAnimationSpeed[0],worldGradientAnimationSpeed[1],worldGradientAnimationSpeed[2]),worldPlane.userData.scaleAmount=rand(worldGradientAnimationScale[0],worldGradientAnimationScale[1],worldGradientAnimationScale[2]),worldPlane.userData.animationQueue=[],SCENE.worldPlane=worldPlane,SCENE.scene.add(SCENE.worldPlane)}function addExtraShapeToAxis(e,a,t,n,i){let o,r=t,s=randFromRange(n.scale),l=s+randFromRange(n.scaleX),d=s+randFromRange(n.scaleY),c=s+randFromRange(n.scaleZ),p=randFromRangeS2(n.positionX),m=randFromRangeS2(n.positionY),u=randFromRangeS2(n.positionZ),g=randFromRange(n.rotationX),E=randFromRange(n.rotationY),f=randFromRange(n.rotationZ);if(n.material)var S=materialTemplates[n.material].clone();else{S=e.coneMaterial.clone();e.coneMaterial.map&&(n.textureScale&&(S.map.repeat.x=n.textureScale[0],S.map.repeat.y=n.textureScale[1]),n.textureRotation&&(S.map.rotation=THREE.MathUtils.degToRad(n.textureRotation),S.map.rotation=!0)),n.color&&(S.color=new THREE.Color(n.color),S.color.needsUpdate=!0)}if("flower1"==r){S.map=void 0,S.bumpMap=void 0;let e=S.clone();if(SCENE.palette.special)S.color=new THREE.Color(SCENE.palette.special.flower[0]),e.color=new THREE.Color(SCENE.palette.special.flower[1]);else{let a=pickS2(SCENE.palette.colors);S.color=new THREE.Color(a[0]),e.color=new THREE.Color(a[1])}S=[S,e]}if("terrain"==r){let e=randFromRange(n.heightScale),a=[];o=makeTerrain(S,n.worldSizeX,n.worldSizeY,e,[l,d,c],[p,m,u],[g,E,f],a)}else if("frame"==r){let e=randFromRange(n.height),a=randFromRange(n.width),t=randFromRange(n.thickness),i=randFromRange(n.depth);o=makeFrame(S,e,a,t,i,[l,d,c],[p,m,u],[g,E,f])}else if("rectangle"==r){let e=randFromRange(n.height),a=randFromRange(n.width),t=randFromRange(n.depth);o=makeRectangle(S,e,a,t,[l,d,c],[p,m,u],[g,E,f])}else if("arrow"==r){let e=randFromRange(n.depth),a=randFromRange(n.bevelThickness),t=randFromRange(n.bevelSize),i=randFromRange(n.bevelSegments),r=n.type||0;o=makeArrow(S,e,a,t,i,[l,d,c],[p,m,u],[g,E,f],r)}else if("knot"==r){let e=randFromRange(n.radius),a=randFromRange(n.tube),t=randFromRange(n.tubularSegments),i=randFromRange(n.radialSegments),r=randFromRange(n.p),s=randFromRange(n.q);o=makeKnot(S,e,a,t,i,r,s,[l,d,c],[p,m,u],[g,E,f])}else r in base64Objects&&(o=loadOBJ(base64Objects[r],S,[l,d,c],[p,m,u],[g,E,f]));if(i){let e=Math.max(l,d,c),a=e/100*i;a=Math.max(a,1e-7),o.scale.set(0,0,0),o.userData.animationQueue=[makeAnimationForQueue("scale",0,e,e,a)]}o.userData.name=a,o.name=a,e.enableNegativeSpace&&(o.material.clippingPlanes=e.clipPlanes,o.material.clipIntersection=!0),addPivotToAxis(e,o,a)}function updateObjectRotationSpeed(e,a,t,n=1,i=.1){for(let o of Axis)if(o.name==a)for(let a of o.pivots)if(a.userData.name==e){let e=a.userData.rotationSpeed;void 0===e&&(e=0);let o=makeAnimationForQueue("rotationSpeed",e,t,t,n,i);return void 0===a.userData.animationQueue&&(a.userData.animationQueue=[]),void a.userData.animationQueue.push(o)}}function switchObjectRotationDirection(e,a,t=1,n=.1){for(let i of Axis)if(i.name==a)for(let a of i.pivots)if(a.userData.name==e){let e=a.userData.rotationSpeed;void 0===e&&(e=0);let i=makeAnimationForQueue("rotationSpeed",e,-1*e,-1*e,t,n);return void 0===a.userData.animationQueue&&(a.userData.animationQueue=[]),void a.userData.animationQueue.push(i)}}function updateObjectDistanceFromAxis(e,a,t,n=1,i=.1){for(let o of Axis)if(o.name==a)for(let a of o.pivots)if(a.userData.name==e)for(let o of a.children)if(o.userData.name==e){let e=o.position.x,a=makeAnimationForQueue("distance",e,t,t,n,i);void 0===o.userData.animationQueue&&(o.userData.animationQueue=[]),o.userData.animationQueue.push(a)}}function increaseBackgroundGradientAnimationSpeed(e){SCENE.worldPlaneScaleFactor*=worldGradientAnimationSpeed}function updateBackgroundGradientScale(e,a=1,t=.1){let n=Math.max(SCENE.worldPlane.scale.x,SCENE.worldPlane.scale.y);SCENE.worldPlane.userData.animationQueue.push(makeAnimationForQueue("scale",n,e,e,a,t))}function updateCameraPosition(e,a,t,n=1,i=.1){void 0!==e&&SCENE.camera.userData.animationQueue.push(makeAnimationForQueue("x",SCENE.camera.position.x,e,e,n,i)),void 0!==a&&SCENE.camera.userData.animationQueue.push(makeAnimationForQueue("y",SCENE.camera.position.y,a,a,n,i)),void 0!==t&&SCENE.camera.userData.animationQueue.push(makeAnimationForQueue("z",SCENE.camera.position.z,t,t,n,i))}function updateObjectScale(e,a,t,n=1,i=.1){for(let o of Axis)if(o.name==a)for(let a of o.pivots)if(a.userData.name==e)for(let o of a.children)if(o.userData.name==e){let e=Math.max(o.scale.x,o.scale.y,o.scale.z),a=makeAnimationForQueue("scale",e,t,t,n,i);void 0===o.userData.animationQueue&&(o.userData.animationQueue=[]),o.userData.animationQueue.push(a)}}function updateObjectScale2(e,a,t=1,n=.1){let i=Math.max(e.scale.x,e.scale.y,e.scale.z),o=makeAnimationForQueue("scale",i,a,a,t,n);null==e.userData.animationQueue&&(e.userData.animationQueue=[]),e.userData.animationQueue.push(o)}function updateVanishingPoint(e,a,t=1){SCENE.scene.fog.userData.animationQueue.push(makeAnimationForQueue("near-far",[SCENE.scene.fog.near,SCENE.scene.fog.far],[e,a],[e,a],t))}function updateFogColor(e,a=1){SCENE.scene.fog.userData.animationQueue.push(makeAnimationForQueue("color",SCENE.scene.fog.color,e,e,a))}function addNewShape(e,a,t,n){for(ax of Axis)if(shapeParams=extraShapes[t],ax.name==e){if(shapeParams.cone)return void addConeToAxis(ax,a,shapeParams,n);addExtraShapeToAxis(ax,a,t,shapeParams,n)}}function rotateAxis(e,a,t,n,i=1,o=.1){for(let r of Axis)r.name==e&&(null==r.mainPivot.userData.animationQueue&&(r.mainPivot.userData.animationQueue=[]),void 0!==a&&(a=THREE.MathUtils.degToRad(a),r.mainPivot.userData.animationQueue.push(makeAnimationForQueue("angleX",r.mainPivot.rotation.x,a,a,i,o))),void 0!==t&&(t=THREE.MathUtils.degToRad(t),r.mainPivot.userData.animationQueue.push(makeAnimationForQueue("angleY",r.mainPivot.rotation.y,t,t,i,o))),void 0!==n&&(n=THREE.MathUtils.degToRad(n),r.mainPivot.userData.animationQueue.push(makeAnimationForQueue("angleZ",r.mainPivot.rotation.z,n,n,i,o))))}function moveAxis(e,a,t,n,i=1,o=.1){for(let r of Axis)r.name==e&&(null==r.mainPivot.userData.animationQueue&&(r.mainPivot.userData.animationQueue=[]),void 0!==a&&(a=THREE.MathUtils.degToRad(a),r.mainPivot.userData.animationQueue.push(makeAnimationForQueue("x",r.mainPivot.position.x,a,a,i,o))),void 0!==t&&(t=THREE.MathUtils.degToRad(t),r.mainPivot.userData.animationQueue.push(makeAnimationForQueue("y",r.mainPivot.position.y,t,t,i,.1))),void 0!==n&&(n=THREE.MathUtils.degToRad(n),r.mainPivot.userData.animationQueue.push(makeAnimationForQueue("z",r.mainPivot.position.z,n,n,i,.1))))}function getObjectVertexXYZ(e,a,t){for(let n of Axis)if(n.name==e)for(let e of n.pivots)if(e.userData.name==a)for(child of e.children){let e=child.geometry.getAttribute("position");null==t&&(t=rand(0,e.count,1));let a=new THREE.Vector3(e.getX(t),e.getY(t),e.getZ(t));return a.applyMatrix4(child.matrixWorld),a}}function zapTerrain(e,a,t,n,o,r,s,l){Array.isArray(t)&&(t=pick(t)),Array.isArray(n)&&(n=randFromRange(n)),Array.isArray(o)&&(o=randFromRange(o)),Array.isArray(r)&&(r=randFromRange(r)),Array.isArray(s)&&(s=randFromRange(s)),Array.isArray(l)&&(l=randFromRange(l));for(let d of Axis)if(d.name==e){let c=getObjectVertexXYZ(e,a),p=rand(2,4,1);for(i=0;i<p;i++){let e=makeLightning(new THREE.LineBasicMaterial({color:t,linewidth:s*rand(.5,1.2,.1)}),n*rand(1,1.5,.1),o*rand(.5,2,.1),r,l,[1,1,1],[c.x,c.y,c.z],[0,0,0]);d.mainPivot.add(e),d.lightnings.push(e)}}}function addRotationLoop(e,a,t,n){for(let i of Axis)if(i.name==a)for(let a of i.pivots)if(a.userData.name==e)for(let i of a.children)if(i.userData.name==e){let e,a;"X"==t?(e="angleX",a=i.rotation.x):"Y"==t?(e="angleY",a=i.rotation.y):"Z"==t&&(e="angleZ",a=i.rotation.z);let o=makeAnimationForQueue(e,a,a+1,a+1,n,void 0);void 0===i.userData.animationLoop&&(i.userData.animationLoop=[]),i.userData.animationLoop.push(o)}}function removeRotationLoop(e,a,t){for(let n of Axis)if(n.name==a)for(let a of n.pivots)if(a.userData.name==e)for(let n of a.children)if(n.userData.name==e&&n.userData.animationLoop){let e;"X"==t?e="angleX":"Y"==t?e="angleY":"Z"==t&&(e="angleZ");for(let a=0;a<n.userData.animationLoop.length;a++)if(n.userData.animationLoop[a].attribute==e)return void n.userData.animationLoop.splice(a,1)}}function logDebugMessage(){let e=`Hash: ${tokenHash} Randomness:`;for(let a=0;a<5;a++)e+=" "+randS(1,100,1);e+=`\nPalette: ${JSON.stringify(SCENE.palette)}`,e+="\nAxis shapes:";for(let a of Axis)for(shape in e+="\n"+a.name+":",a.extraShapes)e+=" "+shape+` [${a.extraShapes[shape].numberOfShapes} ${a.extraShapes[shape].material}]`}async function walletActivityUpdates(){try{return await getLastBlockReceipts()}catch(e){}}function testProbabilities(){let e=[[.1,"1"],[.1,"2"],[.1,"3"],[.1,"4"],[.1,"5"],[.1,"6"],[.1,"7"]],a={1:0,2:0,3:0,4:0,5:0,6:0,7:0};for(let t=0;t<1e3;t++){a[pickFromProbabilityArrayS(e)]+=1}let t="";for(let e in a)t+=a[e],t+=","}function disableAxis(e,a=.01,t=.3){e.enabled=!1;for(let n of e.pivots){n.userData.originalScale||(n.userData.originalScale=n.scale.x),updateObjectScale2(n,0,a,t);for(let a of n.children)setTimeout((()=>{a.visible=e.enabled}),2e4)}}function enableAxis(e,a=.01,t=.3){e.enabled=!0;for(let n of e.pivots){updateObjectScale2(n,n.userData.originalScale,a,t);for(let e of n.children)e.visible=!0}}function setAxisInvisibleAndDisabled(e){e.enabled=!1;for(let a of e.pivots){a.userData.originalScale=a.scale.x,a.scale.set(0,0,0);for(let e of a.children)e.visible=!1}}function setAxisVisibleAndEnabled(e){e.enabled=!0;for(let a of e.pivots){updateObjectScale2(a,a.userData.originalScale,.01,.2);for(let e of a.children)e.visible=!0}}function disappearObjects(e,a=.01,t=.3,n=!1){let i=0;for(let o=0;o<500;o++){let o=Axis[rand(0,Axis.length-1,1)];if(!o.enabled||!o.pivots||0==o.pivots.length)continue;let r=rand(0,o.pivots.length-1,1),s=o.pivots[r];if(!(s.children[0].userData.animationQueue&&s.children[0].userData.animationQueue.length>0)&&(!s.userData.disabled&&(s.children[0].userData.originalScale=s.children[0].scale.x,updateObjectScale2(s.children[0],0,a*s.children[0].scale.x,t),setTimeout((()=>{s.userData.disabled=!0,s.visible=!1,n&&(s.userData.toBeRemoved=!0)}),2e4),i++,i>=e)))break}return i}function appearObjects(e,a=.01,t=.3){let n=0;for(let i=0;i<500;i++){let i=Axis[rand(0,Axis.length-1,1)];if(!i.enabled||!i.pivots||0==i.pivots.length)continue;let o=i.pivots[rand(0,i.pivots.length-1,1)];if(!(o.children[0].userData.animationQueue&&o.children[0].userData.animationQueue.length>0)&&(o.userData.disabled&&(updateObjectScale2(o.children[0],o.children[0].userData.originalScale,a*o.children[0].userData.originalScale,t),o.visible=!0,o.userData.disabled=!1,n++,n>=e)))break}return n}function randomContractData(){let e=[rand(0,1e3,1)],a=[],t=[rand(0,1e3,1)],n=[],i=[rand(20,300,1)],o=[],r=[],s=1681510366,l=1681510366,d=1681510366,c=1681510366;for(let e=0;e<200;e++)s+=rand(1e3,1e6,1),l+=rand(1e3,1e6,1),d+=rand(1e3,1e6,1),c+=rand(1e3,1e6,1),a.push(s),n.push(l),o.push(d),o.push(rand(3e15,6e15,1)),r.push(c),r.push(rand(3e15,6e15,1));return[e,a,t,n,i,o,r,[300]]}function randomWalletActivity(){return GOLD_WALLET_ACTIVITY[rand(0,GOLD_WALLET_ACTIVITY.length,1)]}function pickAxis(e,a=[],t=!1){for(let n=0;n<100;n++){let n=rand(0,Axis.length-1,1);if(Axis[n].pivots&&0!=Axis[n].pivots.length&&(!(-1!=a.indexOf(n)||t&&Axis[n].extremeAngle)&&Axis[n].enabled==e))return Axis[n]}}function getLoopingObjects(){let e=[];for(let a of Axis)if(a.enabled)for(let t of a.pivots)t.children[0].animationLoop&&e.push([a.name,t]);return e}function getNotLoopingObjects(){let e=[];for(let a of Axis)if(a.enabled)for(let t of a.pivots)t.children[0].animationLoop||e.push([a.name,t]);return e}function animateFog(){SCENE.scene.fog.userData&&(SCENE.scene.fog.userData.nearTo&&(SCENE.scene.fog.near<SCENE.scene.fog.userData.nearTo?SCENE.scene.fog.near+=dynamicUpdateAnimationSpeeds.fog.speed:SCENE.scene.fog.near>SCENE.scene.fog.userData.farTo?SCENE.scene.fog.near-=dynamicUpdateAnimationSpeeds.fog.speed:SCENE.scene.fog.userData.nearTo=void 0),SCENE.scene.fog.userData.farTo&&(SCENE.scene.fog.far<SCENE.scene.fog.userData.farTo?SCENE.scene.fog.far+=dynamicUpdateAnimationSpeeds.fog.speed:SCENE.scene.fog.far>SCENE.scene.fog.userData.farTo?SCENE.scene.fog.far-=dynamicUpdateAnimationSpeeds.fog.speed:SCENE.scene.fog.userData.farTo=void 0))}function updateScene(){for(let e of Axis){for(let a of e.pivots)a.userData.toBeRemoved&&SCENE.scene.remove(e.pivot);e.pivots=e.pivots.filter((e=>!e.userData.toBeRemoved))}let e="",a=getCurrentTs();SCENE.camera.userData&&SCENE.camera.userData.positionUpdateTimestamp&&a>SCENE.camera.userData.positionUpdateTimestamp+60*durationOfTimeBasedUpdates&&(SCENE.camera.userData.animationQueue=[],SCENE.camera.userData.positionUpdateTimestamp=void 0,updateCameraPosition(void 0,void 0,SCENE.camera.userData.originalPositionZ,dynamicUpdateAnimationSpeeds.cameraPosition.speed,dynamicUpdateAnimationSpeeds.cameraPosition.curve),e+="Normalized camera position\n");for(let t of Axis)if(t.enabled){if(t.extremeAngleEnabledTimestamp&&a>t.extremeAngleEnabledTimestamp+60*durationOfTimeBasedUpdates){t.extremeAngle=void 0,t.axisAngle=t.originalAngle;let a=THREE.MathUtils.radToDeg(t.mainPivot.rotation.z);t.extremeAngleEnabledTimestamp=void 0;let n=randFromRange(t.axisAngle);rotateAxis(t.name,void 0,void 0,n,dynamicUpdateAnimationSpeeds.axisExtremeAngle.speed,dynamicUpdateAnimationSpeeds.axisExtremeAngle.curve),e+=`Normalized ${t.name} extreme angle from ${a} to ${n}\n`}for(let n of t.pivots)n.userData.lightningTriggered&&a>n.userData.lightningTriggeredTimestamp+60*durationOfTimeBasedUpdates&&(n.userData.lightningTriggered=void 0,n.userData.lightningTriggeredTimestamp=void 0,e+=`Deactivated lightning for ${t.name} ${n.userData.name}\n`);if(t.rotationDirectionSwitchTimestamp&&a>t.rotationDirectionSwitchTimestamp+60*durationOfTimeBasedUpdates){t.rotationDirectionSwitchTimestamp=void 0;for(let e of t.pivots)switchObjectRotationDirection(e.userData.name,t.name,dynamicUpdateAnimationSpeeds.axisRotationDirection.speed,dynamicUpdateAnimationSpeeds.axisRotationDirection.curve);e+=`Normalized axis rotation direction ${t.name}\n`}}if("generated"!=DEBUG_UPDATE_SOURCE)var t={changed:!0,value:rand(-3,3,1)},n={changed:!0,value:rand(-3,3,1)},i={changed:!0,value:rand(-3,3,1)},o={changed:!0,value:rand(-3,3,1)};else t=SCENE.data.contract.tiers.royalty_received_tier,n=SCENE.data.contract.tiers.contract_activity_tier,i=SCENE.data.contract.tiers.sends_tier,o=SCENE.data.contract.tiers.approvals_tier;e="";let r=[];if("random"==DEBUG_UPDATE_SOURCE?r=[rand(0,12,1)]:"generated"==DEBUG_UPDATE_SOURCE?(t.changed&&r.push(13),t.changed&&r.push(5),i.changed&&r.push(6),o.changed&&r.push(7),rand(0,1,.01)>.5&&(r=[pick([0,1,2,3,4,8,9,10,11,12])])):null!=DEBUG_UPDATE_SOURCE&&(r=[DEBUG_UPDATE_SOURCE]),-1!=r.indexOf(0)){let a=0,t=0;for(let e of Axis)for(let n of e.pivots)n.userData.disabled?t++:a++;let n=0,i=0;0==t?i=rand(0,10,1):a/t<3?(n=rand(10,20,1),i=0):(n=rand(0,10,1),i=n*rand(0,.5,.1)),e+=`Appeared objects:${appearObjects(n,dynamicUpdateAnimationSpeeds.objectAppearAndDisappear.speed,dynamicUpdateAnimationSpeeds.objectAppearAndDisappear.curve)} Dissapeared objects:${disappearObjects(i,dynamicUpdateAnimationSpeeds.objectAppearAndDisappear.speed,dynamicUpdateAnimationSpeeds.objectAppearAndDisappear.curve)} (${a},${t})\n`}if(-1!=r.indexOf(1)){let a,t,n=Axis.filter((e=>e.enabled&&e.pivots.length)),i=Axis.filter((e=>!e.enabled&&e.pivots.length));3==n.length?(a=pick(i),t=enableAxis):7==n.length?(a=pick(n),t=disableAxis):rand(0,1,.01)>.5?(a=pick(i),t=enableAxis):(a=pick(n),t=disableAxis),t&&a&&(t(a,dynamicUpdateAnimationSpeeds.axisAppearAndDisappear.speed,dynamicUpdateAnimationSpeeds.axisAppearAndDisappear.curve),e+=`${t==enableAxis?"Enabled":"Disabled"} axis:${a.name}\n`)}if(-1!=r.indexOf(2)){let a=pickAxis(!0,[],!0);if(null==a)return;let t=randFromRange(hashOverwrites.axisAngle),n=THREE.MathUtils.radToDeg(a.mainPivot.rotation.z);rotateAxis(a.name,void 0,void 0,t,dynamicUpdateAnimationSpeeds.axisAngle.speed,dynamicUpdateAnimationSpeeds.axisAngle.curve),e+=`Changed ${a.name} angle from ${n} to ${t}\n`}if(-1!=r.indexOf(3)){let a=pickAxis(!0,[],!0);if(null==a)return;let t=THREE.MathUtils.radToDeg(a.centralRodRotation[2]),n=rand(0,1,.001)>.5?rand(-90,-30,1):rand(30,90,1);null==a.originalAngle&&(a.originalAngle=a.axisAngle),a.extremeAngle=n,a.axisAngle=[n,n,1],a.extremeAngleEnabledTimestamp=getCurrentTs(),rotateAxis(a.name,void 0,void 0,n,dynamicUpdateAnimationSpeeds.axisExtremeAngle.speed,dynamicUpdateAnimationSpeeds.axisExtremeAngle.curve),e+=`Changed ${a.name} extreme angle from ${t} to ${n}\n`}if(-1!=r.indexOf(4)){let a,t,n,i=pickAxis(!0,[],!1),o=`${i.centraRodPosition[0]} ${i.centraRodPosition[1]} ${i.centraRodPosition[2]}`,r=rand(0,2,1);0==r?a=randFromRange(hashOverwrites.axisX):1==r?t=randFromRange(hashOverwrites.axisY):n=randFromRange(hashOverwrites.axisZ);let s=`${a/20} ${t/20} ${n/20}`;moveAxis(i.name,a,t,n,dynamicUpdateAnimationSpeeds.axisPosition.speed,dynamicUpdateAnimationSpeeds.axisPosition.curve),e+=`Changed ${i.name} position from ${o} to ${s}\n`}if(-1!=r.indexOf(5)){let a=tierToValue(tiersStructure.royalty,t.value),n=pickAxis(!0,[],!1);for(let t of n.pivots){let i=t.userData.originalRotationSpeed*a;updateObjectRotationSpeed(t.userData.name,n.name,i,dynamicUpdateAnimationSpeeds.objectRotationSpeed.speed,dynamicUpdateAnimationSpeeds.objectRotationSpeed.curve),e+=`Changed ${n.name} ${t.userData.name} rotation speed from ${t.userData.originalRotationSpeed} to ${i}\n`}}if(-1!=r.indexOf(6)){let a=tierToValue(tiersStructure.royalty,t.value),n=pickAxis(!0,[],!1);for(let t of n.pivots){let i=t.userData.originalPosition[0],o=i*a;updateObjectDistanceFromAxis(t.userData.name,n.name,o,dynamicUpdateAnimationSpeeds.objectPosition.speed,dynamicUpdateAnimationSpeeds.objectPosition.curve),e+=`Changed ${n.name} ${t.userData.name} distance from axis from ${i} to ${o}\n`}}if(-1!=r.indexOf(7)){let a=tierToValue(tiersStructure.royalty,t.value);SCENE.worldPlane.userData.originalScaleX||(SCENE.worldPlane.userData.originalScaleX=SCENE.worldPlane.scale.x);let n=SCENE.worldPlane.userData.originalScaleX*a;updateBackgroundGradientScale(n,dynamicUpdateAnimationSpeeds.gradientScale.speed,dynamicUpdateAnimationSpeeds.gradientScale.curve),e+=`Changed gradient scale from ${SCENE.worldPlane.scale.x} to ${n}\n`}if(-1!=r.indexOf(8)){let a=getLoopingObjects().length,t=getNotLoopingObjects();shuffle(t);let n=randFromRange(spinningObjectsRange);e+=`N spinning objects: ${a} Desired N spinning objects: ${n}\n`;let i=!1;for(let o=0;o<500;o++){for(let o of t){let t=o[0],r=o[1];if(null==r.children[0].userData.animationLoop||0==r.children[0].userData.animationLoop.length){let o=randFromRange(dynamicUpdateAnimationSpeeds.objectRotationSpeed2.speed);if(addRotationLoop(r.userData.name,t,"Y",o),e+=`Adding rotation loop to ${t} ${r.userData.name} speed: ${o}\n`,a++,a>=n){i=!0;break}break}}if(i)break}}if(-1!=r.indexOf(9)){if(SCENE.camera.userData.animationQueue&&SCENE.camera.userData.animationQueue.length>0)return;SCENE.camera.userData.originalPositionZ=SCENE.camera.position.z,SCENE.camera.userData.positionUpdateTimestamp=getCurrentTs();let a=rand(30,40,1);rand(0,1,.1)>.5&&(a=rand(50,150,1)),updateCameraPosition(void 0,void 0,a,dynamicUpdateAnimationSpeeds.cameraPosition.speed,dynamicUpdateAnimationSpeeds.cameraPosition.curve),e+=`Changed camera position to ${a}\n`}if(-1!=r.indexOf(10)&&(SCENE.scene.fog.enabled?(SCENE.scene.fog.userData={nearTo:200,farTo:200},SCENE.scene.fog.enabled=!1,e+="Disabled fog\n"):(SCENE.scene.fog.userData={nearTo:50,farTo:51},SCENE.scene.fog.enabled=!0,e+="Enabled fog\n")),-1!=r.indexOf(11)){let a=pickAxis(!0,[],!1);for(let e of a.pivots)a.rotationDirectionSwitchTimestamp=getCurrentTs(),switchObjectRotationDirection(e.userData.name,a.name,dynamicUpdateAnimationSpeeds.axisRotationDirection.speed,dynamicUpdateAnimationSpeeds.axisRotationDirection.curve);e+=`Changed axis rotation direction ${a.name} \n`}if(-1!=r.indexOf(12))for(let a of Axis[0].pivots)a.userData.name.includes("terrain")&&!a.userData.lightningTriggered&&(a.userData.lightningTriggered=!0,a.userData.lightningTriggeredTimestamp=getCurrentTs(),e+=`Triggered lighning for ${Axis[0].name} ${a.userData.name}\n`);if(-1!=r.indexOf(13)){let a=0;for(let e of Axis)e.enabled&&(a+=e.pivots.length);SCENE.originalNumberOfShapes||(SCENE.originalNumberOfShapes=a);let t=tierToValue(tiersStructure.contract,n.value),i=SCENE.originalNumberOfShapes*t;if(a<300&&i>a)for(let t=0;t<i-a;t++){let a=pick(Object.keys(extraShapes)),n=pick(extraShapes[a].axis),i=Axis[n-1];addNewShape(i.name,a+`E${t}`,a,1),e+=`Added shape ${a} to ${i.name} \n`}else if(a>20&&i<a){e+=`Removed ${disappearObjects(a-i,dynamicUpdateAnimationSpeeds.objectAppearAndDisappear.speed,dynamicUpdateAnimationSpeeds.objectAppearAndDisappear.curve,!0)}\n`}}}function randomDataUpdate(){SCENE.data.wallets=randomWalletActivity(),SCENE.data.contract=randomContractData(),SCENE.data.contract.tiers={royalty_received_tier:{changed:pick([!0,!1]),value:rand(-3,3,1)},contract_activity_tier:{changed:pick([!0,!1]),value:rand(-3,3,1)},sends_tier:{changed:pick([!0,!1]),value:rand(-3,3,1)},approvals_tier:{changed:pick([!0,!1]),value:rand(-3,3,1)}}}async function dataUpdate(){SCENE.data.wallets=await walletActivityUpdates(),SCENE.data.contract=await getContractData(),SCENE.data.contract.tiers=calculateTiers(SCENE.data.contract)}function init(){SCENE={data:{wallet:{},contract:{}},specialObjects:{}},tokenHash&&(populatePalette(),populateAbstractMaterials(),populateAxisExtraShapes(),overwriteAxis(),logDebugMessage()),SCENE.camera=makeCamera(),SCENE.scene=makeScene(),SCENE.renderer=makeRenderer();for(let a of Axis){a.mainPivot=new THREE.Object3D,a.mainPivot.name=a.name,a.lightnings=[];var e=[];for(let t in a.coneTypes)a.coneTypes[t][t]=!0,e.push(a.coneTypes[t]);shuffle(e),a.axisArrayConeTypes=e,a.enableNegativeSpace&&createNegativeSpace(a,!0),a.pivots=[];let t=a.growShapes.onStartup?a.growShapes.speed:void 0;if(!tokenHash)for(let e=0;e<a.numberOfCones;e++)addConeToAxisFALLBACK(a,`cone${e}`,t);for(let e in a.extraShapes){let n=a.extraShapes[e];for(let i=0;i<n.numberOfShapes;i++)n.cone?addConeToAxis(a,`cone${i}`,n,t):addExtraShapeToAxis(a,`${e}${i}`,e,n,t)}let n=meanPositionOfPivots(a.pivots),i=meanRotationOfPivots(a.pivots);if(a.centraRodPosition=n,a.centralRodRotation=i,a.addCentralRod){a.rodMaterial=new THREE.MeshBasicMaterial({color:a.centralRodColor,side:THREE.FrontSide,wireframe:!1});const e=new THREE.BoxGeometry(a.centralRodWidth,a.centralRodLength,a.centralRodWidth);a.rod=new THREE.Mesh(e,a.rodMaterial),a.rod.position.set(n[0],n[1],n[2]),a.rod.rotation.z=i[2],a.mainPivot.add(a.rod)}SCENE.scene.add(a.mainPivot),a.enabled||setAxisInvisibleAndDisabled(a)}for(let e of Lights)makeLight(e),SCENE.scene.add(e.light);enableWorldGradient&&makeWorldPlane(),SCENE.renderer.render(SCENE.scene,SCENE.camera),enableShadows&&(SCENE.renderer.shadowMap.enabled=!0,SCENE.renderer.shadowMap.type=THREE.PCFShadowMap);let a=new THREE.Clock,t=0,n=1/animationFPS;SCENE.cameraMovementSpeed={x:0,y:0,z:0};const i=e=>{requestAnimationFrame(i),t+=a.getDelta(),animateFog();for(let e of Axis){e.mainPivot.userData.animationQueue&&e.mainPivot.userData.animationQueue.length>0&&processAnimationQueue(e.mainPivot);for(let a of e.pivots){a.userData.lightningTriggered&&0==e.lightnings.length&&zapTerrain(e.name,a.userData.name,["#FF0000","#00FF00","#0000FF"],1,[.5,2,.1],[5,15,1],[1,5,1],[10,100,10]),a.rotateY(THREE.MathUtils.degToRad(a.userData.rotationSpeed*t)),a.userData.animationQueue&&a.userData.animationQueue.length>0&&processAnimationQueue(a),a.userData.animationLoop&&processAnimationLoop(a);for(let e of a.children)e.userData.animationQueue&&e.userData.animationQueue.length>0&&processAnimationQueue(e),e.userData.animationLoop&&processAnimationLoop(e)}if(e.enableNegativeSpaceAnimation&&animateAxisNegativeSpace(e,t),e.clipPlanes)for(let a of e.clipPlanes)a.userData&&(a.userData.desiredConstant>a.constant?a.constant+=.05:a.userData.desiredConstant<a.constant&&(a.constant-=.05));for(let a of e.lightnings)animateLightning(a,e)}SCENE.worldPlane.userData.animationQueue&&SCENE.worldPlane.userData.animationQueue.length>0&&processAnimationQueue(SCENE.worldPlane),SCENE.camera.userData.animationQueue&&SCENE.camera.userData.animationQueue.length>0&&processAnimationQueue(SCENE.camera),enableWorldGradientAnimation&&animateWorldPlane(),enableFog&&processAnimationQueue(SCENE.scene.fog),0!=SCENE.cameraMovementSpeed.y&&(SCENE.camera.position.y+=SCENE.cameraMovementSpeed.y,SCENE.cameraMovementSpeed.y*=.98),0!=SCENE.cameraMovementSpeed.x&&(SCENE.camera.position.x+=SCENE.cameraMovementSpeed.x,SCENE.cameraMovementSpeed.x*=.98),0!=SCENE.cameraMovementSpeed.z&&(SCENE.camera.position.z+=SCENE.cameraMovementSpeed.z,SCENE.cameraMovementSpeed.z*=.98),SCENE.renderer.render(SCENE.scene,SCENE.camera),t%=n};function o(){SCENE.camera.aspect=window.innerWidth/window.innerHeight,SCENE.camera.updateProjectionMatrix(),SCENE.renderer.setSize(window.innerWidth,window.innerHeight)}requestAnimationFrame(i),window.addEventListener("resize",o,!1),o(),document.addEventListener("keydown",(function(e){"w"===e.key&&(SCENE.cameraMovementSpeed.y=Math.min(.5,SCENE.cameraMovementSpeed.y+=.1)),"s"===e.key&&(SCENE.cameraMovementSpeed.y=Math.max(-.5,SCENE.cameraMovementSpeed.y-=.1)),"a"===e.key&&(SCENE.cameraMovementSpeed.x=Math.max(-.5,SCENE.cameraMovementSpeed.x-=.1)),"d"===e.key&&(SCENE.cameraMovementSpeed.x=Math.max(.5,SCENE.cameraMovementSpeed.x+=.1)),"q"===e.key&&(SCENE.cameraMovementSpeed.z=Math.max(.5,SCENE.cameraMovementSpeed.z+=.1)),"e"===e.key&&(SCENE.cameraMovementSpeed.z=Math.max(-.5,SCENE.cameraMovementSpeed.z-=.1))}))}init(),updateScene(),setInterval(updateScene,12e3),"generated"==DEBUG_UPDATE_SOURCE&&(randomDataUpdate(),setInterval(randomDataUpdate,12e3));